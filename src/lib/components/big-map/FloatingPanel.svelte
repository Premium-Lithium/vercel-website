<script lang="ts">
	import { movable } from '@svelte-put/movable'

	export let panelTitle: string
	let handle: HTMLElement

	// "M 630.93,114.52 C 618.65,114.52 607.01,117.24 596.53,122.07 589.43,83.77 555.79,54.67 515.46,54.67 502.80,54.67 490.79,57.55 480.05,62.67 471.16,26.73 438.65,0.00 400.00,0.00 361.35,0.00 328.84,26.73 319.95,62.67 309.21,57.55 297.20,54.67 284.54,54.67 239.06,54.67 202.06,91.67 202.06,137.14 202.06,137.14 202.06,338.75 202.06,338.75 191.95,334.32 180.80,331.84 169.07,331.84 123.60,331.84 86.60,368.84 86.60,414.31 86.60,414.31 86.60,583.92 86.60,583.92 86.60,703.06 183.53,800.00 302.68,800.00 302.68,800.00 497.32,800.00 497.32,800.00 616.47,800.00 713.40,703.06 713.40,583.92 713.40,583.92 713.40,197.00 713.40,197.00 713.40,151.52 676.40,114.52 630.93,114.52 Z M 663.92,583.92 C 663.92,675.78 589.18,750.52 497.32,750.52 497.32,750.52 302.68,750.52 302.68,750.52 210.82,750.52 136.08,675.78 136.08,583.92 136.08,583.92 136.08,414.31 136.08,414.31 136.08,396.12 150.88,381.32 169.07,381.32 187.26,381.32 202.06,396.12 202.06,414.31 202.06,414.31 202.06,546.27 202.06,546.27 202.06,546.27 251.55,546.27 251.55,546.27 251.55,546.27 251.55,137.14 251.55,137.14 251.55,118.95 266.35,104.15 284.54,104.15 302.73,104.15 317.53,118.95 317.53,137.14 317.53,137.14 317.53,397.82 317.53,397.82 317.53,397.82 367.01,397.82 367.01,397.82 367.01,397.82 367.01,82.47 367.01,82.47 367.01,64.28 381.81,49.48 400.00,49.48 418.19,49.48 432.99,64.28 432.99,82.47 432.99,82.47 432.99,397.82 432.99,397.82 432.99,397.82 482.47,397.82 482.47,397.82 482.47,397.82 482.47,137.14 482.47,137.14 482.47,118.95 497.27,104.15 515.46,104.15 533.65,104.15 548.45,118.95 548.45,137.14 548.45,137.14 548.45,397.82 548.45,397.82 548.45,397.82 597.94,397.82 597.94,397.82 597.94,397.82 597.94,196.99 597.94,196.99 597.94,178.80 612.74,164.00 630.93,164.00 649.12,164.00 663.92,178.80 663.92,196.99 663.92,196.99 663.92,583.92 663.92,583.92 Z"

</script>

<div class="floating-panel" id={'floating-panel-' + panelTitle} use:movable={{ handle: handle }}>
	<div class="header-row">
		<h2>{panelTitle}</h2>
		<div class="handle" bind:this={handle}><svg height="32" width="32" stroke-width="2" stroke="black"><path d="M 630.93,114.52 C 618.65,114.52 607.01,117.24 596.53,122.07 589.43,83.77 555.79,54.67 515.46,54.67 502.80,54.67 490.79,57.55 480.05,62.67 471.16,26.73 438.65,0.00 400.00,0.00 361.35,0.00 328.84,26.73 319.95,62.67 309.21,57.55 297.20,54.67 284.54,54.67 239.06,54.67 202.06,91.67 202.06,137.14 202.06,137.14 202.06,338.75 202.06,338.75 191.95,334.32 180.80,331.84 169.07,331.84 123.60,331.84 86.60,368.84 86.60,414.31 86.60,414.31 86.60,583.92 86.60,583.92 86.60,703.06 183.53,800.00 302.68,800.00 302.68,800.00 497.32,800.00 497.32,800.00 616.47,800.00 713.40,703.06 713.40,583.92 713.40,583.92 713.40,197.00 713.40,197.00 713.40,151.52 676.40,114.52 630.93,114.52 Z M 663.92,583.92 C 663.92,675.78 589.18,750.52 497.32,750.52 497.32,750.52 302.68,750.52 302.68,750.52 210.82,750.52 136.08,675.78 136.08,583.92 136.08,583.92 136.08,414.31 136.08,414.31 136.08,396.12 150.88,381.32 169.07,381.32 187.26,381.32 202.06,396.12 202.06,414.31 202.06,414.31 202.06,546.27 202.06,546.27 202.06,546.27 251.55,546.27 251.55,546.27 251.55,546.27 251.55,137.14 251.55,137.14 251.55,118.95 266.35,104.15 284.54,104.15 302.73,104.15 317.53,118.95 317.53,137.14 317.53,137.14 317.53,397.82 317.53,397.82 317.53,397.82 367.01,397.82 367.01,397.82 367.01,397.82 367.01,82.47 367.01,82.47 367.01,64.28 381.81,49.48 400.00,49.48 418.19,49.48 432.99,64.28 432.99,82.47 432.99,82.47 432.99,397.82 432.99,397.82 432.99,397.82 482.47,397.82 482.47,397.82 482.47,397.82 482.47,137.14 482.47,137.14 482.47,118.95 497.27,104.15 515.46,104.15 533.65,104.15 548.45,118.95 548.45,137.14 548.45,137.14 548.45,397.82 548.45,397.82 548.45,397.82 597.94,397.82 597.94,397.82 597.94,397.82 597.94,196.99 597.94,196.99 597.94,178.80 612.74,164.00 630.93,164.00 649.12,164.00 663.92,178.80 663.92,196.99 663.92,196.99 663.92,583.92 663.92,583.92 Z"></path></svg></div>
	</div>
	<slot />
</div>

<style>
	.header-row {
		display: flex;
		flex-direction: row;
		justify-content: space-between;
	}

	.floating-panel {
		position: absolute;
		display: flex;
		flex-direction: column;
		width: auto;
		height: auto;
		background-color: #091408;
		border-radius: 8px;
		border: 2px solid #ffffff;
		justify-content: left;
		padding: 8px;
		z-index: 3;
		min-width: 200px;
	}

	.handle {
		color: #000;
		background-color: #35bbed;
		display: flex;
		justify-content: center;
		vertical-align: middle;
		border: 1px solid #ffffff;
		border-radius: 8px;
		height: 32px;
		width: 32px;
	}
</style>
